{% extends "::base8.html.twig" %}
{% block body %}
<!-- CKEditor -->
<script src="{{ asset('bundles/notas/js/plugins/ckeditor/ckeditor.js') }}"></script>
<div class="row-row-fluid">
    <div class="span12">
        <div class="box">
            <div class="box-title">
                <h3><i class="icon-list"></i>Crear Notas Diplomaticas</h3>
            </div>
        </div>
        <div class="box-content">
            <form action="{{ path('notas_create') }}" method="post" {{ form_enctype(form) }}>
            {{ form_errors(form) }}
            <!-- pegarloquese necesita -->
            <div class="span12" style="margin-left:0">
                <div class="span2">
                    <label for="destinatario">Destinatario</label>
                    <select required name="destinatario" id="destinatario" class="input-block-level">
                        <option value="">Elije un destinatario</option>
                        <option value="pro">Protocol Office</option>
                        <option value="dga">Dir. Gral. de A.L.</option>
                        <option value="dpc">Dirección de Política Consular</option>
                        <option value="oce">Division de Oceanos</option>
                        <option value="otr">Otros Destinatarios</option>
                    </select>  
                </div>
                <div class="span2">
                    {{form_row(form.idioma, { 'attr': {
                        'class':"input-block-level",}}
                    )}}
                </div>
                <div class="span2">
                    {{ form_errors (form.fecha) }} 
                    {{ form_label (form.fecha) }}
                    {{form_widget(form.fecha, { 'attr': {
                        'class':"input-small datepick",}}
                    )}}
                </div>
                <div class="span5">
                     {{ form_errors (form.sumilla) }} 
                     {{ form_label (form.sumilla) }}  
                     {{ form_widget (form.sumilla, { 'attr': {
                    'class':"input-block-level",
                    }}
                     )}}
                </div>
            </div>
            <div class="span12" style="margin-left:0">
                <div class="span7">
                    {{ form_label(form.cuerpo) }}
                    {{ form_errors(form.cuerpo) }}
                    {{ form_widget (form.cuerpo, { 'attr': {
                        'class':"input-block-level",
                        'rows':20,
                    }}

                    )}}
                </div>
                <div class="span4">
                    {{ form_label(form.destinatario) }}
                    {{ form_errors(form.destinatario) }}
                    {{ form_widget (form.destinatario, { 'attr': {
                    'class':"input-block-level",
                    'rows'  :5
                    }}

                    )}}
                </div>
                <div class="span4">
                    {{ form_label(form.observaciones) }}
                    {{ form_errors(form.observaciones) }}
                    {{ form_widget (form.observaciones, { 'attr': {
                    'class':"input-block-level",
                    'rows'  :5
                    }}

                    )}}
                </div>
            </div>
                    {# Atributos
                    , { 'attr': {
                        'class':"input-block-level",}}
                    ui-spinner ui-widget ui-widget-content ui-corner-all
                    'class':"input-small datepick",
                    ,'date', array('widget' => 'single_text','format' => 'dd/MM/yyyy'
            ))
                    #}


                            
            
            {{ form_widget(form._token) }}    
            <div class="span12">
            <br>
                <button class="btn btn-primary"type="submit"><i class="icon-save"></i> Guardar</button>
                <a class="btn btn-inverse" href="{{ path('notas') }}"><i class="icon-reply"></i>
                 Regresar
                </a>
            </br>
            </div>
            </form>
        </div>
    </div>
</div>
<script type="text/javascript">
var lista = document.getElementById('embajada_notasbundle_notastype_idioma');
var desti = document.getElementById('destinatario');
var cuerpo = document.getElementById('embajada_notasbundle_notastype_cuerpo');
var destinatarios = document.getElementById('embajada_notasbundle_notastype_destinatario');

var oficina = '-Protocol Office-';
var destinarioingles = "the Honorable \nMinistry of Foreign Affairs of Japan \n";
var mensajeingles ='The Embassy of Peru presents its compliments to the Honorable Ministry of Foreign Affairs of Japan \n \n \nThe Embassy of Peru avails itself of this opportunity to renew to the Honorable Ministry of Foreign Affairs of Japan -Protocol Office- the assurances of its highest consideration.';
desti.onchange = function texto(){
lista.disabled=false;    
if (desti.value=='pro'){
    
    cuerpo.value="";
    destinatarios.value='';
    lista.selectedIndex = 2;
    //lista.disabled=true;
    //destinatarios.disabled=true;
    cuerpo.value ='The Embassy of Peru presents its compliments to the Honorable Ministry of Foreign Affairs of Japan -Protocol Office- \n \n \nThe Embassy of Peru avails itself of this opportunity to renew to the Honorable Ministry of Foreign Affairs of Japan -Protocol Office- the assurances of its highest consideration.';
    destinatarios.value = destinarioingles+oficina;

    
    }else if(desti.value=='dga'){
    
    cuerpo.value="";
    destinatarios.value='';
    lista.selectedIndex=1;
    destinatarios.value='Honorable \nMinisterio de Asuntos Exteriores \n-Dirección General de América Latina y el Caribe-.'
    cuerpo.value='La Embajada del Perú saluda muy atentamente al Honorable Ministerio de Asuntos Exteriores -Dirección General de América Latina y el Caribe- \n\n\nLa Embajada del Perú hace propicia la oportunidad para reiterar al Honorable Ministerio de Asuntos Exteriores -Dirección General de América Latina y el Caribe- las seguridades de su más alta y distinguida consideración.'
    
    
    }else if(desti.value=='dpc'){
    
    cuerpo.value="";
    destinatarios.value='';
    lista.selectedIndex=1;
    destinatarios.value='Honorable \nMinisterio de Asuntos Exteriores \n-Dirección de Política Consular-.'
    cuerpo.value='La Embajada del Perú saluda muy atentamente al Honorable Ministerio de Asuntos Exteriores -Dirección de Política Consular- \n\n\nLa Embajada del Perú hace propicia la oportunidad para reiterar al Honorable Ministerio de Asuntos Exteriores -Dirección General de América Latina y el Caribe- las seguridades de su más alta y distinguida consideración.'
    
    
    } else if(desti.value=='oce'){
    
    cuerpo.value="";
    destinatarios.value='';
    lista.selectedIndex=1;
    destinatarios.value='Honorable \nMinisterio de Asuntos Exteriores \n-División de Océanos-.'
    cuerpo.value='La Embajada del Perú saluda muy atentamente al Honorable Ministerio de Asuntos Exteriores -División de Océanos- \n\n\nLa Embajada del Perú hace propicia la oportunidad para reiterar al Honorable Ministerio de Asuntos Exteriores -Dirección General de América Latina y el Caribe- las seguridades de su más alta y distinguida consideración.'
    
    
    } 
}

//
lista.onchange = function mensaje() {
if (desti.value==''){
    
    alert("Debe elegir el campo Destinatario");
    lista.selectedIndex = 0 ;
}
else if (desti.value=='pro'){
    
    lista.selectedIndex= 2;
}
else {
    var idioma=lista.value 
    
       if (idioma=='in' && desti.value=='dga'){
            
            cuerpo.value='The Embassy of Peru presents its compliments to the Honorable Ministry of Foreign Affairs of Japan -Latin America and the Caribbean Bureau-\n \n \nThe Embassy of Peru avails itself of this opportunity to renew to the Honorable Ministry of Foreign Affairs of Japan -Latin America and the Caribbean Bureau- the assurances of its highest consideration.';
            destinatarios.value=destinarioingles+'-Latin America and the Caribbean Bureau-';

            }
        else if (idioma=='in' && desti.value=='otr'){
            cuerpo.value='The Embassy of Peru presents its compliments to the Honorable Ministry of Foreign Affairs of Japan - -\n \n \nThe Embassy of Peru avails itself of this opportunity to renew to the Honorable Ministry of Foreign Affairs of Japan - - the assurances of its highest consideration.';
            destinatarios.value=destinarioingles+'-  -';
            }
        else if (idioma=='es' && desti.value=='otr'){
            cuerpo.value='La Embajada del Perú saluda muy atentamente al Honorable Ministerio de Asuntos Exteriores -  - \n\n\nLa Embajada del Perú hace propicia la oportunidad para reiterar al Honorable Ministerio de Asuntos Exteriores -  - las seguridades de su más alta y distinguida consideración.'
        destinatarios.value='Honorable \nMinisterio de Asuntos Exteriores \n-  -.'
        
            }    
        else {
        cuerpo.value='La Embajada del Perú saluda muy atentamente al Honorable Ministerio de Asuntos Exteriores -Dirección General de América Latina y el Caribe- \n\n\nLa Embajada del Perú hace propicia la oportunidad para reiterar al Honorable Ministerio de Asuntos Exteriores -Dirección General de América Latina y el Caribe- las seguridades de su más alta y distinguida consideración.'
        destinatarios.value='Honorable \nMinisterio de Asuntos Exteriores \n-Dirección General de América Latina y el Caribe-.'


        }

}}
</script>
{% endblock body %}
